{
  "version": 3,
  "sources": ["../../@revolut/checkout/esm/constants.js", "../../@revolut/checkout/esm/utils.js", "../../@revolut/checkout/esm/versionLoader.js", "../../@revolut/checkout/esm/paymentsLoader.js", "../../@revolut/checkout/esm/upsellLoader.js", "../../@revolut/checkout/esm/loader.js", "../../@revolut/checkout/esm/checks.js", "../../@revolut/checkout/esm/helpers.js"],
  "sourcesContent": ["var _a;\nexport var LOCALES = [\n    'en',\n    'en-US',\n    'nl',\n    'fr',\n    'de',\n    'cs',\n    'it',\n    'lt',\n    'pl',\n    'pt',\n    'es',\n    'hu',\n    'sk',\n    'ja',\n    'sv',\n    'bg',\n    'ro',\n    'ru',\n    'el',\n    'hr',\n];\nexport var MODE = {\n    PRODUCTION: 'prod',\n    DEVELOPMENT: 'dev',\n    SANDBOX: 'sandbox',\n};\nexport var URLS = (_a = {},\n    _a[MODE.SANDBOX] = {\n        embed: 'https://sandbox-merchant.revolut.com/embed.js',\n        version: 'https://sandbox-merchant.revolut.com/version.js',\n        upsell: 'https://sandbox-merchant.revolut.com/upsell/embed.js',\n    },\n    _a[MODE.PRODUCTION] = {\n        embed: 'https://merchant.revolut.com/embed.js',\n        version: 'https://merchant.revolut.com/version.js',\n        upsell: 'https://merchant.revolut.com/upsell/embed.js',\n    },\n    _a[MODE.DEVELOPMENT] = {\n        embed: 'https://merchant.revolut.codes/embed.js',\n        version: 'https://merchant.revolut.codes/version.js',\n        upsell: 'https://merchant.revolut.codes/upsell/embed.js',\n    },\n    _a);\nexport var REVOLUT_PAY_ORDER_ID_URL_PARAMETER = '_rp_oid';\nexport var REVOLUT_PAY_SUCCESS_REDIRECT_URL_PARAMETER = '_rp_s';\nexport var REVOLUT_PAY_FAILURE_REDIRECT_URL_PARAMETER = '_rp_fr';\n", "export function loadModule(_a) {\n    var src = _a.src, id = _a.id, name = _a.name;\n    var script = document.createElement('script');\n    script.id = id;\n    script.src = src;\n    script.async = true;\n    document.head.appendChild(script);\n    return new Promise(function (resolve, reject) {\n        function handleError(reason) {\n            document.head.removeChild(script);\n            reject(new Error(\"'\" + name + \"' failed to load: \" + reason));\n        }\n        function handleLoad() {\n            resolve(script);\n        }\n        script.onload = handleLoad;\n        script.onerror = function () { return handleError('Network error encountered'); };\n    });\n}\nexport function getVersionedUrl(url, version) {\n    var queryParams = version ? new URLSearchParams({ version: version }).toString() : '';\n    return \"\" + url + (queryParams ? \"?\" + queryParams : '');\n}\n", "import { MODE, URLS } from './constants';\nimport { getVersionedUrl, loadModule } from './utils';\nvar loadedVersion = null;\nexport function RevolutPaymentsVersionLoader(mode) {\n    if (mode === void 0) { mode = RevolutPaymentsVersionLoader.mode; }\n    if (typeof loadedVersion === 'string') {\n        return Promise.resolve(loadedVersion);\n    }\n    return loadModule({\n        src: getVersionedUrl(URLS[mode].version, \"\" + Date.now()),\n        id: 'revolut-pay-version',\n        name: 'RevolutPayVersion',\n    })\n        .then(function () {\n        loadedVersion =\n            '__REV_PAY_VERSION__' in window &&\n                typeof __REV_PAY_VERSION__ === 'string'\n                ? __REV_PAY_VERSION__\n                : '';\n        delete window.__REV_PAY_VERSION__;\n        return loadedVersion;\n    })\n        .catch(function () {\n        loadedVersion = '';\n        return loadedVersion;\n    });\n}\nRevolutPaymentsVersionLoader.mode = MODE.PRODUCTION;\n", "import { MODE, URLS } from './constants';\nimport { getVersionedUrl, loadModule } from './utils';\nimport { RevolutPaymentsVersionLoader } from './versionLoader';\nvar loadedPaymentInstance = null;\nexport function RevolutPaymentsLoader(token, mode, locale) {\n    if (mode === void 0) { mode = RevolutPaymentsLoader.mode; }\n    if (loadedPaymentInstance) {\n        var instance = loadedPaymentInstance({ publicToken: token, locale: locale });\n        return Promise.resolve(instance);\n    }\n    return RevolutPaymentsVersionLoader(mode).then(function (version) {\n        return loadRevolutPayments(version, token, mode, locale);\n    });\n}\nfunction loadRevolutPayments(version, token, mode, locale) {\n    return loadModule({\n        src: getVersionedUrl(URLS[mode].embed, version),\n        id: 'revolut-payments',\n        name: 'RevolutPayments',\n    }).then(function (scriptElement) {\n        if (typeof RevolutCheckout === 'function') {\n            loadedPaymentInstance = RevolutCheckout.payments;\n            delete window.RevolutCheckout;\n            return loadedPaymentInstance({ publicToken: token, locale: locale });\n        }\n        else {\n            document.head.removeChild(scriptElement);\n            throw new Error(\"'RevolutPayments' failed to load: RevolutCheckout is not a function\");\n        }\n    });\n}\nRevolutPaymentsLoader.mode = MODE.PRODUCTION;\n", "import { MODE, URLS } from './constants';\nimport { getVersionedUrl, loadModule } from './utils';\nimport { RevolutPaymentsVersionLoader } from './versionLoader';\nvar loadedUpsellInstance = null;\nexport function RevolutUpsellLoader(token, mode, locale) {\n    if (mode === void 0) { mode = RevolutUpsellLoader.mode; }\n    if (loadedUpsellInstance) {\n        var instance = loadedUpsellInstance({ publicToken: token, locale: locale });\n        return Promise.resolve(instance);\n    }\n    return RevolutPaymentsVersionLoader(mode).then(function (version) {\n        return loadRevolutUpsell(version, token, mode, locale);\n    });\n}\nfunction loadRevolutUpsell(version, token, mode, locale) {\n    return loadModule({\n        src: getVersionedUrl(URLS[mode].upsell, version),\n        id: 'revolut-upsell',\n        name: 'RevolutUpsell',\n    }).then(function (scriptElement) {\n        if (typeof RevolutUpsell === 'function') {\n            loadedUpsellInstance = RevolutUpsell;\n            delete window.RevolutUpsell;\n            return loadedUpsellInstance({ publicToken: token, locale: locale });\n        }\n        else {\n            document.head.removeChild(scriptElement);\n            throw new Error(\"'RevolutUpsell' failed to load: RevolutUpsell is not a function\");\n        }\n    });\n}\nRevolutUpsellLoader.mode = MODE.PRODUCTION;\n", "import { MODE, URLS } from './constants';\nimport { RevolutPaymentsLoader } from './paymentsLoader';\nimport { getVersionedUrl, loadModule } from './utils';\nimport { RevolutUpsellLoader } from './upsellLoader';\nimport { RevolutPaymentsVersionLoader } from './versionLoader';\nvar loaded = null;\n/**\n * Load [`RevolutCheckout.js`](https://developer.revolut.com/docs/revolut-checkout-js/#revolutcheckout)\n * and create [`Instance`](https://developer.revolut.com/docs/revolut-checkout-js/#instance) for the order `token`.\n *\n * @param token `public_id`  from [create payment order](https://developer.revolut.com/api-reference/merchant/#operation/createOrder) API request\n * @param mode [API](https://developer.revolut.com/docs/revolut-checkout-js/#revolutcheckout-parameters) environment, defaults to `'prod'`\n *\n * @see [`RevolutCheckout.js` reference](https://developer.revolut.com/docs/revolut-checkout-js)\n *\n * @example\n * ```js\n * RevolutCheckout('TOKEN_XXX', 'prod').then(function(instance) {\n *   // Work with instance\n * });\n * ```\n */\nexport function RevolutCheckoutLoader(token, mode) {\n    if (mode === void 0) { mode = RevolutCheckoutLoader.mode; }\n    if (loaded) {\n        return Promise.resolve(loaded(token));\n    }\n    return RevolutPaymentsVersionLoader(mode).then(function (version) {\n        return loadRevolutCheckout(version, token, mode);\n    });\n}\nfunction loadRevolutCheckout(version, token, mode) {\n    return loadModule({\n        src: getVersionedUrl(URLS[mode].embed, version),\n        id: 'revolut-checkout',\n        name: 'RevolutCheckout',\n    }).then(function (scriptElement) {\n        if (typeof RevolutCheckout === 'function') {\n            loaded = RevolutCheckout;\n            delete window.RevolutCheckout;\n            return loaded(token);\n        }\n        else {\n            document.head.removeChild(scriptElement);\n            throw new Error(\"'RevolutCheckout' failed to load: RevolutCheckout is not a function\");\n        }\n    });\n}\nRevolutCheckoutLoader.mode = MODE.PRODUCTION;\nRevolutCheckoutLoader.payments = function (_a) {\n    var locale = _a.locale, publicToken = _a.publicToken, _b = _a.mode, mode = _b === void 0 ? RevolutCheckoutLoader.mode : _b;\n    return RevolutPaymentsLoader(publicToken, mode, locale);\n};\nRevolutCheckoutLoader.upsell = function (_a) {\n    var locale = _a.locale, publicToken = _a.publicToken, _b = _a.mode, mode = _b === void 0 ? RevolutCheckoutLoader.mode : _b;\n    return RevolutUpsellLoader(publicToken, mode, locale);\n};\n", "import { LOCALES } from './constants';\nexport function isValidationError(error) {\n    return error != null && error.name === 'Validation';\n}\nexport function isRevolutCheckoutError(error) {\n    return error != null && error.name === 'RevolutCheckout';\n}\nexport function isValidLocale(locale) {\n    return locale && LOCALES.some(function (value) { return value === locale; });\n}\n", "import { REVOLUT_PAY_ORDER_ID_URL_PARAMETER, REVOLUT_PAY_SUCCESS_REDIRECT_URL_PARAMETER, REVOLUT_PAY_FAILURE_REDIRECT_URL_PARAMETER, } from './constants';\nvar getSearchParamsByName = function (name) {\n    return new URLSearchParams(window.location.search).get(name);\n};\n/**\n * Retrieve the revolut pay order ID URL parameter upon redirect to your merchant site\n */\nexport var getRevolutPayOrderIdURLParam = function () {\n    return getSearchParamsByName(REVOLUT_PAY_ORDER_ID_URL_PARAMETER);\n};\n/**\n * Retrieve the revolut pay success URL parameter upon redirect to your merchant site\n */\nexport var getRevolutPaySuccessURLParam = function () {\n    return getSearchParamsByName(REVOLUT_PAY_SUCCESS_REDIRECT_URL_PARAMETER);\n};\n/**\n * Retrieve the revolut pay failure URL parameter upon redirect to your merchant site\n */\nexport var getRevolutPayFailureURLParam = function () {\n    return getSearchParamsByName(REVOLUT_PAY_FAILURE_REDIRECT_URL_PARAMETER);\n};\n"],
  "mappings": "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",
  "names": ["_a", "_a"]
}
