{
  "version": 3,
  "sources": ["../../@revolut/checkout/esm/constants.js", "../../@revolut/checkout/esm/utils.js", "../../@revolut/checkout/esm/versionLoader.js", "../../@revolut/checkout/esm/paymentsLoader.js", "../../@revolut/checkout/esm/upsellLoader.js", "../../@revolut/checkout/esm/loader.js", "../../@revolut/checkout/esm/checks.js", "../../@revolut/checkout/esm/helpers.js"],
  "sourcesContent": ["var _a;\nexport var LOCALES = [\n    'en',\n    'en-US',\n    'nl',\n    'fr',\n    'de',\n    'cs',\n    'it',\n    'lt',\n    'pl',\n    'pt',\n    'es',\n    'hu',\n    'sk',\n    'ja',\n    'sv',\n    'bg',\n    'ro',\n    'ru',\n    'el',\n    'hr',\n    'tr',\n];\nexport var MODE = {\n    PRODUCTION: 'prod',\n    DEVELOPMENT: 'dev',\n    SANDBOX: 'sandbox',\n};\nexport var URLS = (_a = {},\n    _a[MODE.SANDBOX] = {\n        embed: 'https://sandbox-merchant.revolut.com/embed.js',\n        version: 'https://sandbox-merchant.revolut.com/version.js',\n        upsell: 'https://sandbox-merchant.revolut.com/upsell/embed.js',\n    },\n    _a[MODE.PRODUCTION] = {\n        embed: 'https://merchant.revolut.com/embed.js',\n        version: 'https://merchant.revolut.com/version.js',\n        upsell: 'https://merchant.revolut.com/upsell/embed.js',\n    },\n    _a[MODE.DEVELOPMENT] = {\n        embed: 'https://merchant.revolut.codes/embed.js',\n        version: 'https://merchant.revolut.codes/version.js',\n        upsell: 'https://merchant.revolut.codes/upsell/embed.js',\n    },\n    _a);\nexport var REVOLUT_PAY_ORDER_ID_URL_PARAMETER = '_rp_oid';\nexport var REVOLUT_PAY_SUCCESS_REDIRECT_URL_PARAMETER = '_rp_s';\nexport var REVOLUT_PAY_FAILURE_REDIRECT_URL_PARAMETER = '_rp_fr';\n", "var pendingScripts = {};\nexport function loadScript(_a) {\n    var src = _a.src, id = _a.id, name = _a.name;\n    if (pendingScripts[src]) {\n        return pendingScripts[src];\n    }\n    var script = document.createElement('script');\n    script.id = id;\n    script.src = src;\n    script.async = true;\n    var promise = new Promise(function (resolve, reject) {\n        function handleError(reason) {\n            document.head.removeChild(script);\n            delete pendingScripts[src];\n            reject(new Error(\"'\" + name + \"' failed to load: \" + reason));\n        }\n        function handleLoad() {\n            document.head.removeChild(script);\n            resolve();\n        }\n        script.onload = handleLoad;\n        script.onerror = function () { return handleError('Network error encountered'); };\n    });\n    document.head.appendChild(script);\n    pendingScripts[src] = promise;\n    return promise;\n}\nexport function getVersionedUrl(url, version) {\n    var queryParams = version ? new URLSearchParams({ version: version }).toString() : '';\n    return \"\" + url + (queryParams ? \"?\" + queryParams : '');\n}\n", "import { MODE, URLS } from './constants';\nimport { getVersionedUrl, loadScript } from './utils';\nvar loadedVersion = null;\nvar pendingTimestamp = null;\nexport function RevolutPaymentsVersionLoader(mode) {\n    if (mode === void 0) { mode = RevolutPaymentsVersionLoader.mode; }\n    if (typeof loadedVersion === 'string') {\n        return Promise.resolve(loadedVersion);\n    }\n    pendingTimestamp = pendingTimestamp !== null && pendingTimestamp !== void 0 ? pendingTimestamp : Date.now();\n    return loadScript({\n        src: getVersionedUrl(URLS[mode].version, \"\" + pendingTimestamp),\n        id: 'revolut-pay-version',\n        name: 'RevolutPayVersion',\n    })\n        .then(function () {\n        pendingTimestamp = null;\n        if (typeof loadedVersion !== 'string' || !loadedVersion) {\n            loadedVersion =\n                '__REV_PAY_VERSION__' in window &&\n                    typeof __REV_PAY_VERSION__ === 'string'\n                    ? __REV_PAY_VERSION__\n                    : '';\n            delete window.__REV_PAY_VERSION__;\n        }\n        return loadedVersion;\n    })\n        .catch(function () {\n        pendingTimestamp = null;\n        loadedVersion = '';\n        return loadedVersion;\n    });\n}\nRevolutPaymentsVersionLoader.mode = MODE.PRODUCTION;\n", "import { MODE } from './constants';\nimport { RevolutPaymentsVersionLoader } from './versionLoader';\nimport { loadRevolutCheckout } from './loader';\nvar loadedPaymentInstance = null;\nexport function RevolutPaymentsLoader(token, mode, locale) {\n    if (mode === void 0) { mode = RevolutPaymentsLoader.mode; }\n    if (loadedPaymentInstance) {\n        var instance = loadedPaymentInstance({ publicToken: token, locale: locale });\n        return Promise.resolve(instance);\n    }\n    return RevolutPaymentsVersionLoader(mode)\n        .then(function (version) { return loadRevolutCheckout(version, mode, 'RevolutPayments'); })\n        .then(function (revolutCheckout) {\n        loadedPaymentInstance = revolutCheckout.payments;\n        return revolutCheckout.payments({ publicToken: token, locale: locale });\n    });\n}\nRevolutPaymentsLoader.mode = MODE.PRODUCTION;\n", "import { MODE, URLS } from './constants';\nimport { getVersionedUrl, loadScript } from './utils';\nimport { RevolutPaymentsVersionLoader } from './versionLoader';\nvar loadedUpsellInstance = null;\nexport function RevolutUpsellLoader(token, mode, locale) {\n    if (mode === void 0) { mode = RevolutUpsellLoader.mode; }\n    if (loadedUpsellInstance) {\n        var instance = loadedUpsellInstance({ publicToken: token, locale: locale });\n        return Promise.resolve(instance);\n    }\n    return RevolutPaymentsVersionLoader(mode)\n        .then(function (version) { return loadRevolutUpsell(version, mode); })\n        .then(function (revolutUpsell) { return revolutUpsell({ publicToken: token, locale: locale }); });\n}\nfunction loadRevolutUpsell(version, mode) {\n    return loadScript({\n        src: getVersionedUrl(URLS[mode].upsell, version),\n        id: 'revolut-upsell',\n        name: 'RevolutUpsell',\n    }).then(function () {\n        if (loadedUpsellInstance) {\n            return loadedUpsellInstance;\n        }\n        else if (typeof RevolutUpsell === 'function') {\n            loadedUpsellInstance = RevolutUpsell;\n            delete window.RevolutUpsell;\n            return loadedUpsellInstance;\n        }\n        else {\n            throw new Error(\"'RevolutUpsell' failed to load: RevolutUpsell is not a function\");\n        }\n    });\n}\nRevolutUpsellLoader.mode = MODE.PRODUCTION;\n", "import { MODE, URLS } from './constants';\nimport { RevolutPaymentsLoader } from './paymentsLoader';\nimport { getVersionedUrl, loadScript } from './utils';\nimport { RevolutUpsellLoader } from './upsellLoader';\nimport { RevolutPaymentsVersionLoader } from './versionLoader';\nvar loaded = null;\n/**\n * Load [`RevolutCheckout.js`](https://developer.revolut.com/docs/revolut-checkout-js/#revolutcheckout)\n * and create [`Instance`](https://developer.revolut.com/docs/revolut-checkout-js/#instance) for the order `token`.\n *\n * @param token `public_id`  from [create payment order](https://developer.revolut.com/api-reference/merchant/#operation/createOrder) API request\n * @param mode [API](https://developer.revolut.com/docs/revolut-checkout-js/#revolutcheckout-parameters) environment, defaults to `'prod'`\n *\n * @see [`RevolutCheckout.js` reference](https://developer.revolut.com/docs/revolut-checkout-js)\n *\n * @example\n * ```js\n * RevolutCheckout('TOKEN_XXX', 'prod').then(function(instance) {\n *   // Work with instance\n * });\n * ```\n */\nexport function RevolutCheckoutLoader(token, mode) {\n    if (mode === void 0) { mode = RevolutCheckoutLoader.mode; }\n    if (loaded) {\n        return Promise.resolve(loaded(token));\n    }\n    return RevolutPaymentsVersionLoader(mode)\n        .then(function (version) { return loadRevolutCheckout(version, mode, 'RevolutCheckout'); })\n        .then(function (revolutCheckout) { return revolutCheckout(token); });\n}\n/** @internal */\nexport function loadRevolutCheckout(version, mode, scriptName) {\n    return loadScript({\n        src: getVersionedUrl(URLS[mode].embed, version),\n        id: 'revolut-checkout',\n        name: scriptName,\n    }).then(function () {\n        if (loaded) {\n            return loaded;\n        }\n        if (typeof RevolutCheckout === 'function') {\n            loaded = RevolutCheckout;\n            delete window.RevolutCheckout;\n            return loaded;\n        }\n        else {\n            throw new Error(\"'\" + scriptName + \"' failed to load: RevolutCheckout is not a function\");\n        }\n    });\n}\nRevolutCheckoutLoader.mode = MODE.PRODUCTION;\nRevolutCheckoutLoader.payments = function (_a) {\n    var locale = _a.locale, publicToken = _a.publicToken, _b = _a.mode, mode = _b === void 0 ? RevolutCheckoutLoader.mode : _b;\n    return RevolutPaymentsLoader(publicToken, mode, locale);\n};\nRevolutCheckoutLoader.upsell = function (_a) {\n    var locale = _a.locale, publicToken = _a.publicToken, _b = _a.mode, mode = _b === void 0 ? RevolutCheckoutLoader.mode : _b;\n    return RevolutUpsellLoader(publicToken, mode, locale);\n};\n", "import { LOCALES } from './constants';\nexport function isValidationError(error) {\n    return error != null && error.name === 'Validation';\n}\nexport function isRevolutCheckoutError(error) {\n    return error != null && error.name === 'RevolutCheckout';\n}\nexport function isValidLocale(locale) {\n    return locale && LOCALES.some(function (value) { return value === locale; });\n}\n", "import { REVOLUT_PAY_ORDER_ID_URL_PARAMETER, REVOLUT_PAY_SUCCESS_REDIRECT_URL_PARAMETER, REVOLUT_PAY_FAILURE_REDIRECT_URL_PARAMETER, } from './constants';\nvar getSearchParamsByName = function (name) {\n    return new URLSearchParams(window.location.search).get(name);\n};\n/**\n * Retrieve the revolut pay order ID URL parameter upon redirect to your merchant site\n */\nexport var getRevolutPayOrderIdURLParam = function () {\n    return getSearchParamsByName(REVOLUT_PAY_ORDER_ID_URL_PARAMETER);\n};\n/**\n * Retrieve the revolut pay success URL parameter upon redirect to your merchant site\n */\nexport var getRevolutPaySuccessURLParam = function () {\n    return getSearchParamsByName(REVOLUT_PAY_SUCCESS_REDIRECT_URL_PARAMETER);\n};\n/**\n * Retrieve the revolut pay failure URL parameter upon redirect to your merchant site\n */\nexport var getRevolutPayFailureURLParam = function () {\n    return getSearchParamsByName(REVOLUT_PAY_FAILURE_REDIRECT_URL_PARAMETER);\n};\n"],
  "mappings": "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",
  "names": ["_a", "_a"]
}
